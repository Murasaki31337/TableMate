<header>
    <nav>
        <a href="index.html">Home</a>
        <a href="login.html" id="login-link">Login</a>
        <a href="register.html" id="register-link">Register</a>
        <a href="profile.html" id="profile-link" style="display: none;">Profile</a>
        <button id="logout-btn" onclick="logout()" style="display: none;">Logout</button>
    </nav>
</header>

<!-- 
Add this in the beginning! 
<div id="header-container"></div>
        <script>
                fetch("header.html")
                .then(response => response.text())
                .then(data => document.getElementById("header-container").innerHTML = data);
        </script>
-->

<script>
document.addEventListener("DOMContentLoaded", function () {
    const token = localStorage.getItem("access_token");

    if (token) {
        document.getElementById("login-link").style.display = "none";
        document.getElementById("register-link").style.display = "none";
        document.getElementById("profile-link").style.display = "inline-block";
        document.getElementById("logout-btn").style.display = "inline-block";
    }
});

function logout() {
    localStorage.removeItem("access_token");
    window.location.href = "login.html";
}
</script>

<style>
header {
    background-color: #333;
    padding: 10px;
    text-align: center;
}

nav {
    display: flex;
    justify-content: center;
    gap: 20px;
}

nav a, button {
    color: white;
    text-decoration: none;
    padding: 10px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 16px;
}

nav a:hover, button:hover {
    text-decoration: underline;
}

button {
    color: red;
}
</style>
